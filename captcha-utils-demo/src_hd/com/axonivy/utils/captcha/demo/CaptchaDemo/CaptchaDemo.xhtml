<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:ic="http://ivyteam.ch/jsf/component"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
	<ui:composition template="/layouts/basic-10.xhtml">
		<ui:define name="title">CaptchaDemo</ui:define>
		<ui:define name="content">

			<h:form id="form">
				<p:growl />

				<div id="info" class="grid">
					<div class="col-4">
						<p:outputLabel value="First Name" />
					</div>
					<div class="col-8">
						<p:inputText required="true"
							requiredMessage="Please enter first name" styleClass="w-full"
							value="#{data.bean.firstName}" />
					</div>
					<div class="col-4">
						<p:outputLabel value="Last Name" />
					</div>
					<div class="col-8">
						<p:inputText required="true"
							requiredMessage="Please enter last name" styleClass="w-full"
							value="#{data.bean.lastName}" />
					</div>
					<div class="col-4">
						<p:outputLabel value="Choose captcha type verification" />
					</div>

					<div class="col-8">
						<p:selectOneMenu id="captchaType" value="#{data.bean.captchaType}">
							<f:selectItem itemLabel="--Select One--" itemValue="" />
							<f:selectItem itemLabel="Image" itemValue="Image" />
							<f:selectItem itemLabel="Sound" itemValue="Sound" />

							<p:ajax event="change" update="captchaPanel" />
						</p:selectOneMenu>
					</div>
				</div>

				<p:outputPanel id="captchaPanel">

					<ic:com.axonivy.utils.captcha.utils.Captcha
						captchaType="#{data.bean.captchaType}"
						captcha="#{data.bean.captcha}"
						captchaValue="#{data.bean.captchaValue}"
						regenerateCaptchaAction="#{data.bean.onGenerateCaptcha}"
						audioLink="#{data.bean.audioLink}"
						audioCaptchaValue="#{data.bean.audioCaptchaValue}"
						regenerateAudioCaptchaAction="#{data.bean.onGenerateAudioCaptcha}" 
						checkCaptchaValueAction="#{data.bean.checkCaptchaValue}"/>

				</p:outputPanel>
			</h:form>

		</ui:define>
	</ui:composition>
</h:body>

</html>
